<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Group Numbers in Range</title>
    <link rel="stylesheet" type="text/css" href="styles.css" />
</head>
<body>
<div>
  <ul>
    <li><a href="cease.html">Cease Billing Format</a></li>
    <li><a href="port.html">Billing Format</a></li>
    <li><a href="ipms.html">IPMS Format</a></li>
    <li><a href="devoli.html">Devoli Format</a></li>
    <li><a href="list.html">List for BAU Ops</a></li>
    <li><a href="range.html">Extract Range Format</a></li>
    <li><a href="number range.html"><b>Group Range Format</b></a></li>
  </ul>
</div>
<h1>Group Numbers in Range</h1>
    <label for="numbers">Enter Numbers: </label><br>
    <textarea type="text" rows="8" cols="50" id="numbers" placeholder="Enter numbers here"  onfocus="this.value=''"></textarea><br>
    <button onclick="groupNumbers()">Group Numbers</button><p></p>
    <div id="output"></div>

  <h2>Formatted Numbers in Range:</h2>
  <button onclick="copyText()">Copy Text</button>
    
    <script>
        function groupNumbers() {
            const input = document.getElementById('numbers').value;
            
            // Extract numbers from the input and convert them into an array of numbers
            const numbers = input.split(/[, \n]+/).map(num => parseInt(num.trim())).filter(num => !isNaN(num));

            // Sort numbers in ascending order
            numbers.sort((a, b) => a - b);

            let grouped = [];
            let rangeStart = numbers[0];
            let rangeEnd = numbers[0];

            // Iterate through the sorted numbers and group consecutive numbers into ranges
            for (let i = 1; i < numbers.length; i++) {
                if (numbers[i] === rangeEnd + 1) {
                    rangeEnd = numbers[i];
                } else {
                    // If the current number is not consecutive, push the range
                    grouped.push(rangeStart === rangeEnd ? `${rangeStart}` : `${rangeStart}-${rangeEnd}`);
                    rangeStart = numbers[i];
                    rangeEnd = numbers[i];
                }
            }

            // Push the last group
            grouped.push(rangeStart === rangeEnd ? `${rangeStart}` : `${rangeStart}-${rangeEnd}`);

            // Display the result
            document.getElementById('output').innerHTML = `Grouped Ranges: <p> ${grouped.join('<br>')}`;

function copyText() {
    // Get the formatted list element
    var formattedListDiv = document.getElementById('output');

    // Create a range to select the div content
    var range = document.createRange();
    range.selectNode(formattedListDiv);

    // Select the range
    window.getSelection().removeAllRanges();
    window.getSelection().addRange(range);

    // Copy the selected text
    try {
        document.execCommand("copy");
        alert("List copied to clipboard!");
    } catch (err) {
        alert("Unable to copy the list. Your browser may not support this feature.");
    }

    // Clear the selection
    window.getSelection().removeAllRanges();
}            
        }
    </script>
</body>
</html>
